# Step4: チーム開発の流れ

チーム開発では、コードの品質を保ちながら複数人で効率よく作業するための「ワークフロー」が重要です。ここでは、最も広く使われている **GitHub Flow** を学びます。

---

## GitHub Flow とは

GitHub Flowは、シンプルで実践的なブランチ戦略です。以下の8つのステップで構成されます。

### 1. Issueを立てる

タスクや改善点、バグなどを **Issue** として記録します。Issueを立てることで、何をやるべきかがチーム全体で共有されます。

### 2. Issueに基づいてブランチを作成

Issue番号を含むブランチ名を付けると、何のための作業かが一目でわかります。

```bash
git checkout -b feature/issue-12-login-design
git checkout -b fix/issue-25-typo-readme
```

| プレフィックス | 用途 |
|---|---|
| `feature/` | 新機能の追加 |
| `fix/` | バグ修正 |
| `docs/` | ドキュメントの更新 |
| `refactor/` | リファクタリング |

### 3. 作業してcommit → push

```bash
git add .
git commit -m "ログインページのレイアウトを修正"
git push origin feature/issue-12-login-design
```

**commitメッセージのコツ:**
- 「何をしたか」を簡潔に書く
- 日本語でも英語でもチームで統一する
- 1つのcommitに1つの変更をまとめる

### 4. Pull Requestを作成

pushしたら、GitHub上でPull Request（PR）を作成します。`closes #12` と書くとIssueが自動リンクされます。

### 5. チームメンバーがレビュー

PRが作成されると、チームメンバーがコードを確認します。

### 6. 修正があれば対応

レビューでコメントをもらったら、同じブランチで修正してpushします。PRは自動的に更新されます。

```bash
git add .
git commit -m "レビュー指摘を反映: 変数名を修正"
git push origin feature/issue-12-login-design
```

### 7. 承認後mainにマージ

レビューが承認（Approve）されたら、GitHub上の「Merge pull request」ボタンでmainにマージします。

### 8. ブランチを削除

```bash
# リモートブランチの削除
git push origin --delete feature/issue-12-login-design

# ローカルブランチの削除
git branch -d feature/issue-12-login-design
```

---

## Issueの書き方のコツ

- **タイトルは具体的に**: 「バグ修正」ではなく「ログインページで空のメールアドレスを送信するとエラーになる」
- **背景を説明する**: なぜこの作業が必要なのかを書く
- **完了条件を明確にする**: チェックリストで示す
- **スクリーンショットを活用する**: UIに関するIssueでは画像を添付
- **ラベルを活用する**: `bug`, `enhancement`, `documentation` などで分類

---

## PRの書き方のコツ

- **変更内容を簡潔に説明する**: 何を、なぜ変更したのか
- **関連Issueをリンクする**: `closes #番号` で自動クローズを活用
- **変更の規模を小さく保つ**: 大きな変更は複数のPRに分割
- **スクリーンショットを添付する**: UIの変更がある場合はBefore/Afterを示す
- **レビューしてほしいポイントを伝える**: 特に見てほしい箇所を明示

---

## レビューの作法

### 建設的なコメントの書き方

- **指摘だけでなく理由も書く**: 「この変数名は分かりにくい」→「`userEmail` に変えると何のデータか明確になります」
- **提案型で書く**: 「ここは間違っている」→「こうすると良くなると思います」
- **良い点も伝える**: 「このロジックはシンプルで分かりやすいですね」
- **質問形式を活用する**: 「ここは〜という理解で合っていますか？」

### Approveの仕方

1. PRページの「Files changed」タブでコードを確認する
2. 問題がなければ「Review changes」→「Approve」を選択
3. 修正が必要なら「Request changes」で修正を依頼

### レビュー時の心構え

- コードに対するフィードバックであり、人に対する批判ではない
- 完璧を求めすぎない（改善は次のPRでもできる）
- レビューは早めに対応する（チームの作業を止めない）
- 分からないことは素直に質問する

---

## まとめ

GitHub Flowの流れ:

```
Issue → ブランチ作成 → 作業・commit → push → PR作成 → レビュー → マージ → ブランチ削除
```

このサイクルを繰り返すことで、チームで安全かつ効率的に開発を進めることができます。
